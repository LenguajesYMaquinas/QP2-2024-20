//Universidad de los Andes
//Lenguajes y Maquinas 4 - 2024-20
//21.03.2024
// Esqueleto de DFA
//@author: Johan Alexis Bautista Quinayas


//El lenguaje de todas las cadenas Ï‰ sobre el alfabeto ğ´ = {ğ‘, ğ‘, ğ‘} tal que si 
//un simbolo aparece, ese mismo sÃ­mbolo no puede volver a aparecer en las siguientes
//dos posiciones


using gold.structures.automaton.*
using gold.visualization.automaton.*


using gold.structures.set.*

procedure main(args:String[]) begin
	

//Se hace el powerset como conjunto de conjuntos, ya que al momento de utilizar el simbolo sale el siguiente error: se excedio el limite del powerset
	q:= ((0â€¥3) Ã— (0â€¥3) Ã— (0â€¥3) Ã— (0â€¥3) Ã— ({false, true})) âˆª {âŸ¨9,9,9,9, falseâŸ©} 
	Î£:= ('a'â€¥'d')
	qâ‚€:= âŸ¨0,0,0,0, falseâŸ©
	F:= {âŸ¨a,b,c,d,trueâŸ© | a in (0â€¥3), b in (0â€¥3), c in (0â€¥3), d in (0â€¥3)}
	//F:= {âŸ¨2,1,1,1,trueâŸ©}
	M:=GDeterministicAutomaton(q,Î£,qâ‚€,F,Î´)
	//GAutomataFrame.show(M)
	Utilities.test(M)
end


function Î´(âŸ¨conteo_a, conteo_b, conteo_c, conteo_d, condicionâŸ©,z) begin
	if conteo_b > 0 and conteo_c > 0 and conteo_d > 0 and z = 'a' and conteo_a < 3 then return âŸ¨conteo_a + 1, conteo_b, conteo_c, conteo_d, trueâŸ©
	elseif conteo_b > 0 and conteo_c > 0 and conteo_d > 0 and z = 'b' and conteo_b < 3 then return âŸ¨conteo_a, conteo_b + 1, conteo_c, conteo_d, trueâŸ©
	elseif conteo_b > 0 and conteo_c > 0 and conteo_d > 0 and z = 'c' and conteo_c < 3 then return âŸ¨conteo_a, conteo_b, conteo_c  + 1, conteo_d, trueâŸ©
	elseif conteo_b > 0 and conteo_c > 0 and conteo_d > 0 and z = 'd' and conteo_d < 3 then return âŸ¨conteo_a, conteo_b, conteo_c, conteo_d  + 1, trueâŸ©
	
	elseif conteo_a > 0 and conteo_c > 0 and conteo_d > 0 and z = 'a' and conteo_a < 3 then return âŸ¨conteo_a + 1, conteo_b, conteo_c, conteo_d, trueâŸ©
	elseif conteo_a > 0 and conteo_c > 0 and conteo_d > 0 and z = 'b' and conteo_b < 3 then return âŸ¨conteo_a, conteo_b + 1, conteo_c, conteo_d, trueâŸ©
	elseif conteo_a > 0 and conteo_c > 0 and conteo_d > 0 and z = 'c' and conteo_c < 3 then return âŸ¨conteo_a, conteo_b, conteo_c  + 1, conteo_d, trueâŸ©
	elseif conteo_a > 0 and conteo_c > 0 and conteo_d > 0 and z = 'd' and conteo_d < 3 then return âŸ¨conteo_a, conteo_b, conteo_c, conteo_d  + 1, trueâŸ©
	
	elseif conteo_a > 0 and conteo_b > 0 and conteo_d > 0 and z = 'a' and conteo_a < 3 then return âŸ¨conteo_a + 1, conteo_b, conteo_c, conteo_d, trueâŸ©
	elseif conteo_a > 0 and conteo_b > 0 and conteo_d > 0 and z = 'b' and conteo_b < 3 then return âŸ¨conteo_a, conteo_b + 1, conteo_c, conteo_d, trueâŸ©
	elseif conteo_a > 0 and conteo_b > 0 and conteo_d > 0 and z = 'c' and conteo_c < 3 then return âŸ¨conteo_a, conteo_b, conteo_c  + 1, conteo_d, trueâŸ©
	elseif conteo_a > 0 and conteo_b > 0 and conteo_d > 0 and z = 'd' and conteo_d < 3 then return âŸ¨conteo_a, conteo_b, conteo_c, conteo_d  + 1, trueâŸ©
	
	elseif conteo_a > 0 and conteo_b > 0 and conteo_c > 0 and z = 'a' and conteo_a < 3 then return âŸ¨conteo_a + 1, conteo_b, conteo_c, conteo_d, trueâŸ©
	elseif conteo_a > 0 and conteo_b > 0 and conteo_c > 0 and z = 'b' and conteo_b < 3 then return âŸ¨conteo_a, conteo_b + 1, conteo_c, conteo_d, trueâŸ©
	elseif conteo_a > 0 and conteo_b > 0 and conteo_c > 0 and z = 'c' and conteo_c < 3 then return âŸ¨conteo_a, conteo_b, conteo_c  + 1, conteo_d, trueâŸ©
	elseif conteo_a > 0 and conteo_b > 0 and conteo_c > 0 and z = 'd' and conteo_d < 3 then return âŸ¨conteo_a, conteo_b, conteo_c, conteo_d  + 1, trueâŸ©
	
	elseif conteo_a > 0 and conteo_b > 0 and conteo_c > 0 and conteo_d > 0 and z = 'a' and conteo_a < 3 then return âŸ¨conteo_a + 1, conteo_b, conteo_c, conteo_d, trueâŸ©
	elseif conteo_a > 0 and conteo_b > 0 and conteo_c > 0 and conteo_d > 0 and z = 'b' and conteo_b < 3 then return âŸ¨conteo_a, conteo_b + 1, conteo_c, conteo_d, trueâŸ©
	elseif conteo_a > 0 and conteo_b > 0 and conteo_c > 0 and conteo_d > 0 and z = 'c' and conteo_c < 3 then return âŸ¨conteo_a, conteo_b, conteo_c  + 1, conteo_d, trueâŸ©
	elseif conteo_a > 0 and conteo_b > 0 and conteo_c > 0 and conteo_d > 0 and z = 'd' and conteo_d < 3 then return âŸ¨conteo_a, conteo_b, conteo_c, conteo_d  + 1, trueâŸ©
	
	elseif âŸ¨conteo_a, conteo_b, conteo_c, conteo_d, condicionâŸ© = âŸ¨0,0,0,0, falseâŸ© and z = 'a' and conteo_a < 3 then return âŸ¨conteo_a + 1, conteo_b, conteo_c, conteo_d, condicionâŸ©
	elseif âŸ¨conteo_a, conteo_b, conteo_c, conteo_d, condicionâŸ© = âŸ¨0,0,0,0, falseâŸ© and z = 'b' and conteo_b < 3 then return âŸ¨conteo_a, conteo_b + 1, conteo_c, conteo_d, condicionâŸ©
	elseif âŸ¨conteo_a, conteo_b, conteo_c, conteo_d, condicionâŸ© = âŸ¨0,0,0,0, falseâŸ© and z = 'c' and conteo_c < 3 then return âŸ¨conteo_a, conteo_b, conteo_c + 1, conteo_d, condicionâŸ©
	elseif âŸ¨conteo_a, conteo_b, conteo_c, conteo_d, condicionâŸ© = âŸ¨0,0,0,0, falseâŸ© and z = 'd' and conteo_d < 3 then return âŸ¨conteo_a, conteo_b, conteo_c,  conteo_d + 1, condicionâŸ©	
	
	elseif âŸ¨conteo_a, conteo_b, conteo_c, conteo_d, condicionâŸ© != âŸ¨0,0,0,0, falseâŸ© and z = 'a' and conteo_a < 3 then return âŸ¨conteo_a + 1, conteo_b, conteo_c,  conteo_d, condicionâŸ©	
	elseif âŸ¨conteo_a, conteo_b, conteo_c, conteo_d, condicionâŸ© != âŸ¨0,0,0,0, falseâŸ© and z = 'b' and conteo_b < 3 then return âŸ¨conteo_a, conteo_b + 1, conteo_c, conteo_d, condicionâŸ©
	elseif âŸ¨conteo_a, conteo_b, conteo_c, conteo_d, condicionâŸ© != âŸ¨0,0,0,0, falseâŸ© and z = 'c' and conteo_c < 3 then return âŸ¨conteo_a, conteo_b, conteo_c + 1, conteo_d, condicionâŸ©
	elseif âŸ¨conteo_a, conteo_b, conteo_c, conteo_d, condicionâŸ© != âŸ¨0,0,0,0, falseâŸ© and z = 'd' and conteo_d < 3 then return âŸ¨conteo_a, conteo_b, conteo_c,  conteo_d + 1, condicionâŸ©
	
	
	else return âŸ¨9,9,9,9, falseâŸ©
	end
end


